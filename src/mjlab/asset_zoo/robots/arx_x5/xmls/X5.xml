<mujoco model="arx5">
  <compiler angle="radian" meshdir="assets"/>

  <default>
    <default class="arx5">
      <site group="5" size="0.005" rgba="0 1 0 1"/>
      <joint axis="0 0 1" damping="0.1"/>
      <default class="visual">
        <geom type="mesh" contype="0" conaffinity="0" density="0" group="2" material="silver"/>
      </default>
      <default class="collision">
        <geom group="3" type="capsule"/>
      </default>
      <default class="finger">
        <joint type="slide" axis="0 1 0"/>
      </default>
    </default>
  </default>

  <asset>
    <material name="silver" rgba="0.75 0.75 0.75 1"/>
    <material name="dark" rgba="0.3 0.3 0.3 1"/>
    <material name="white" rgba="0.9 0.92 0.93 1"/>

    <mesh file="meshes/X5/base_link.STL"/>
    <mesh file="meshes/X5/link1.STL"/>
    <mesh file="meshes/X5/link2.STL"/>
    <mesh file="meshes/X5/link3.STL"/>
    <mesh file="meshes/X5/link4.STL"/>
    <mesh file="meshes/X5/link5.STL"/>
    <mesh file="meshes/X5/link6.STL"/>
    <mesh file="meshes/X5/link7.STL"/>
    <mesh file="meshes/X5/link8.STL"/>
  </asset>

  <worldbody>
    <light name="spotlight" mode="targetbodycom" target="link6" pos="0 0 1"/>
    <body name="arm" childclass="arx5">
      <!-- base_link -->
      <inertial pos="-3.764e-5 6.519e-5 0.03037877" mass="0.428"
        fullinertia="0.00060728 0.00060832 1.917e-4 3.437e-7 9.790e-7 -1.696e-6"/>
      <geom class="visual" mesh="base_link"/>
      <geom name="base_collision" class="collision" size="0.04 0.03" pos="0 0 0.03" quat="1 0 0 0"/>

      <!-- link1 -->
      <body name="link1" pos="0 0 0.0603">
        <inertial pos="0.00571213 0.0002547 0.01750661" mass="0.064"
          fullinertia="0.00008 0.00003 0.00007 0.0 0.00001 0.0"/>
        <joint name="joint1" axis="0 0 1" range="-3.14159 3.14159" armature="0.033"/>
        <geom class="visual" mesh="link1"/>
        <geom name="link1_collision" class="collision" size="0.025 0.015" pos="0 0 0.02" quat="1 0 0 0"/>

        <!-- link2 -->
        <body name="link2" pos="0.02 0 0.0402">
          <inertial pos="-0.13225701 0.00072373 4.274e-5" mass="1.165"
            fullinertia="0.00057063 0.03669927 0.03683489 0.00011251 0.00001979 1.203e-8"/>
          <joint name="joint2" axis="0 1 0" range="0 3.14159" armature="0.033"/>
          <geom class="visual" mesh="link2"/>
          <geom name="link2_1_collision" class="collision" size="0.03 0.12" pos="-0.13 0 0" quat="1 0 1 0"/>
          <geom name="link2_2_collision" class="collision" size="0.035 0.02" pos="0 0 0" quat="1 0 0 0"/>

          <!-- link3: rpy="-3.1416 0 0" from URDF = 180° around X -->
          <body name="link3" pos="-0.264 0 0" quat="0 1 0 0">
            <inertial pos="0.19096098 0.00069065 -0.05342172" mass="0.546"
              fullinertia="0.00178249 0.02486615 0.02329476 -0.00003986 0.00571 1.346e-5"/>
            <joint name="joint3" axis="0 1 0" range="0 3.14159" armature="0.033"/>
            <geom class="visual" mesh="link3"/>
            <geom name="link3_1_collision" class="collision" size="0.025 0.08" pos="0.15 0 -0.055" quat="1 0 1 0"/>

            <!-- link4 -->
            <body name="link4" pos="0.245 0 -0.056">
              <inertial pos="0.03092317 0.0066107 -0.03138504" mass="0.080971"
                fullinertia="0.00017832 0.00021182 0.00011328 0.00001697 0.0000776 -0.00001779"/>
              <joint name="joint4" axis="0 1 0" range="-1.5708 1.5708" armature="0.0018"/>
              <geom class="visual" mesh="link4" material="white"/>
              <geom name="link4_collision" class="collision" size="0.025 0.03" pos="0.06575 -0.001 -0.02" quat="1 0 0 0"/>

              <!-- link5 -->
              <body name="link5" pos="0.06575 -0.001 -0.0825">
                <inertial pos="0.0040681 0.00000885 0.05120675" mass="0.655"
                  fullinertia="0.00254972 0.00255018 0.00026961 2.600e-7 -0.00021534 -5.980e-7"/>
                <joint name="joint5" axis="0 0 1" range="-1.67 1.67" armature="0.0018"/>
                <geom class="visual" mesh="link5"/>
                <geom name="link5_collision" class="collision" size="0.02 0.04" pos="0.04 0 0.05" quat="1 0 1 0"/>

                <!-- link6: rpy="-3.1416 0 0" from URDF = 180° around X -->
                <body name="link6" pos="0.02845 0 0.0825" quat="0 1 0 0">
                  <inertial pos="0.05435277 0 0" mass="0.7"
                    fullinertia="0.00029 0.00028 0.00045 0.0 0.0 -0.00001"/>
                  <joint name="joint6" axis="1 0 0" range="-1.5708 1.5708" armature="0.0018"/>
                  <geom class="visual" mesh="link6" material="white"/>
                  <geom name="link6_1_collision" class="collision" size="0.025 0.05" pos="0.05 0 0" quat="1 0 1 0"/>

                  <!-- End effector sites -->
                  <site name="tcp_site" pos="0.145 0 0" quat="0.5 0.5 -0.5 0.5"/>
                  <site name="grasp_site" pos="0.145 0 0" quat="0.5 0.5 -0.5 0.5"/>

                  <!-- Left gripper finger (link7) -->
                  <body name="link7" pos="0.08657 0.024896 -0.0002436">
                    <inertial pos="-0.00035522 -0.007827 -0.0029883" mass="0.064798"
                      fullinertia="0.00002 0.00003 0.00003 0.0 0.0 0.0"/>
                    <joint class="finger" name="left_finger" range="0 0.044" armature="0.001"/>
                    <geom class="visual" mesh="link7"/>
                    <geom name="link7_collision" class="collision" size="0.008 0.025" pos="0 -0.015 0" quat="1 0 0 0"/>
                  </body>

                  <!-- Right gripper finger (link8) -->
                  <body name="link8" pos="0.08657 -0.0249 -0.00024366">
                    <inertial pos="-0.00035522 0.0078277 0.0024201" mass="0.064798"
                      fullinertia="0.00002 0.00003 0.00003 0.0 0.0 0.0"/>
                    <joint class="finger" name="right_finger" axis="0 -1 0" range="0 0.044" armature="0.001"/>
                    <geom class="visual" mesh="link8"/>
                    <geom name="link8_collision" class="collision" size="0.008 0.025" pos="0 0.015 0" quat="1 0 0 0"/>
                  </body>
                </body>
              </body>
            </body>
          </body>
        </body>
      </body>
    </body>
  </worldbody>

  <!-- Couple left and right gripper fingers to move together -->
  <equality>
    <joint joint1="left_finger" joint2="right_finger" polycoef="0 1 0 0 0"/>
  </equality>

  <!-- PD position actuators: kp=stiffness, kv=damping -->
  <!-- X5 default kp: [80.0, 70.0, 70.0, 30.0, 30.0, 20.0, 1.0]-->
  <!-- X5 default kd: [2.0, 2.0, 2.0, 1.0, 1.0, 0.7, 0.01]-->
  <!-- <actuator>
    <position name="ctrl_joint1" joint="joint1" kp="80" kv="5.0" ctrlrange="-3.14159 3.14159"/>
    <position name="ctrl_joint2" joint="joint2" kp="80" kv="5.0" ctrlrange="0 3.14159"/>
    <position name="ctrl_joint3" joint="joint3" kp="80" kv="5.0" ctrlrange="0 3.14159"/>
    <position name="ctrl_joint4" joint="joint4" kp="40" kv="1.5" ctrlrange="-1.5708 1.5708"/>
    <position name="ctrl_joint5" joint="joint5" kp="10" kv="1.5" ctrlrange="-1.67 1.67"/>
    <position name="ctrl_joint6" joint="joint6" kp="10" kv="1.5" ctrlrange="-1.5708 1.5708"/>
    <position name="ctrl_gripper" joint="left_finger" kp="5" kv="0.2" ctrlrange="0 0.044"/>
  </actuator> -->
</mujoco>

